<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta http-equiv="X-UA-Compatible" content="IE=10" />
    <title>More samples</title>
    <link rel="stylesheet" href="stylesheets/github-dark.css">
    <script src="javascripts/scale.fix.js"></script>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">

    <link rel="stylesheet" href="https://cdn.rawgit.com/predictionmachines/InteractiveDataDisplay/v1.3.0/dist/idd.css" type="text/css" />
    <script src="http://ajax.aspnetcdn.com/ajax/jQuery/jquery-2.1.4.min.js"></script>
    <script src="https://cdn.rawgit.com/Reactive-Extensions/RxJS/v4.0.6/dist/rx.lite.min.js" type="text/javascript"></script>
    <script src="https://cdn.rawgit.com/Reactive-Extensions/rxjs-jquery/v1.1.7/rx.jquery.min.js" type="text/javascript"></script>
    <script src="https://cdn.rawgit.com/predictionmachines/InteractiveDataDisplay/v1.3.0/dist/idd.min.js" type="text/javascript"></script>
    <script type="text/javascript">
        $(document).ready(function () {
            var xline = [];
            var yline = [];
            var y_l68 = [];
            var y_u68 = [];
            var y_l95 = [];
            var y_u95 = [];
            for (var i = 0; i < 1000; i++) {
                var d = i * 0.003;
                xline[i] = d;
                var k = 1 + 0.5 * Math.sin(1 / 100 * Math.PI);
                yline[i] = d == 0 ? k : k * Math.sin(d * k * Math.PI) / (d * k * Math.PI);
                y_l68[i] = yline[i] - 0.3;
                y_u68[i] = yline[i] + 0.2;
                y_l95[i] = yline[i] - 0.6;
                y_u95[i] = yline[i] + 0.5;
            }

            var polylineData = {
                "Simple line": {
                    y: yline,
                    x: xline,
                    thickness: 10,
                    stroke: 'red'
                },
                "Line with uncertainty": {
                    x: xline,
                    y: {
                        median: yline,
                        lower95: y_l95,
                        upper95: y_u95,
                        lower68: y_l68,
                        upper68: y_u68
                    },
                    fill95: "lightblue",
                    fill68: "blue"
                },
            };
            var areaData = {
                x: xline,
                y1: y_l68,
                y2: y_u68
            };


            var xm = [];
            var ym = [];
            var size = [];
            var color = [];
            var size_l95 = [];
            var size_u95 = [];
            var color_l95 = [];
            var color_u95 = [];
            var N = 100;
            for (var i = 0; i < N; i++)
            {
                xm[i] = Math.random() * N;
                ym[i] = Math.random() * N;
                size[i] = 100 + 200 * Math.random();
                color[i] = 200 * Math.random();
                size_l95[i] = size[i] - 200 * Math.random();
                size_u95[i] = size[i] + 200 * Math.random();
                color_l95[i] = color[i] - 200 * Math.random();
                color_u95[i] = color[i] + 200 * Math.random();
            }

            var markersData = {
                "Simple markers": {
                    x: xm,
                    y: ym,
                    shape: 'diamond',
                    color: color,
                    colorPalette: "orange, yellow, green, lightblue",
                    border: "gray",
                    size: size,
                    sizePalette: new InteractiveDataDisplay.SizePalette(true, { min: 5, max: 30 })
                },
                "Bull-eyes": {
                    x: xm,
                    y: ym,
                    shape: 'bulleye',
                    color: {
                        median: color,
                        lower95: color_l95,
                        upper95: color_u95,
                    },
                    size: 15.0,
                    colorPalette: 'brown, orange, yellow, lightgreen, blue'
                },
                "Petals": {
                    x: xm,
                    y: ym,
                    shape: 'petals',
                    color: color,
                    size: {
                        lower95: size_l95,
                        upper95: size_u95,
                    },
                    colorPalette: 'brown, orange, yellow, lightgreen, lightblue'
                },
                "Boxplot": {
                    y: {
                        median: [1, 2, 3, 4, 5, 3.7, 2.8, 1.2],
                        lower95: [0.8, 1.3, 2.7, 3.6, 4.8, 3.2, 2.4, 0.9],
                        upper95: [1.3, 2.4, 3.5, 4.6, 5.2, 4.1, 3.2, 1.5],
                        lower68: [0.9, 1.8, 2.9, 3.8, 4.9, 3.5, 2.7, 1.1],
                        upper68: [1.2, 2.3, 3.37, 4.2, 5.1, 3.8, 3.0, 1.4]
                    },
                    shape: 'boxwhisker',
                    border: 'blue',
                    color: 'lightblue',
                    size: 15,
                }
            };
            var heatmapData = {
                "Gradient heatmap": {
                    x: [-1, 0, 1, -1, 0, 1, -1, 0, 1],
                    y: [-1, -1, -1, 0, 0, 0, 1, 1, 1],
                    values: [1, 3, 5, 6, 8, 5, 4, 2, 1],
                    colorPalette: 'orange, yellow, lightgreen, lightblue',
                    treatAs: "gradient"
                },
                "Bitmap heatmap": {
                    x: [-1, 0, 1, -1, 0, 1, -1, 0, 1],
                    y: [-1, -1, -1, 0, 0, 0, 1, 1, 1],
                    values: [1, 3, 5, 6, 8, 5, 4, 2, 1],
                    colorPalette: 'orange, yellow, lightgreen, lightblue',
                    treatAs: "discrete"
                },
                "Heatmap with uncertain data": {
                    x: [-1, 0, 1, -1, 0, 1, -1, 0, 1],
                    y: [-1, -1, -1, 0, 0, 0, 1, 1, 1],
                    values: {
                        median: [1, 3, 5, 6, 8, 5, 4, 2, 1],
                        lower68: [-3, -1, 1, 1, 4, 2, 1, 0, 0],
                        upper68: [2, 4, 7, 8, 10, 7, 5, 4, 2]
                    },
                    colorPalette: 'orange, yellow, lightgreen, lightblue',
                    interval: { min: 0, max: 1 }
                }
            }

            $("<h1 align='center'>Polyline</h1>").appendTo(document.body);
            for (var data in polylineData) {
                var div = $('<div style="width:800px; height: 600px; margin:auto;">').appendTo(document.body);
                var title = $('<h2 align="center">' + data + '</h2>').appendTo(div);
                var chart = $('<div data-idd-plot="chart" style="width: 600px; height: 500px; margin:auto"></div>').appendTo(div);
                var plot = InteractiveDataDisplay.asPlot(chart);
                var polyline = plot.polyline("line", polylineData[data]);
            }

            $("<h1 align='center'>Area</h1>").appendTo(document.body);
            var div = $('<div style="width:800px; height: 600px; margin:auto;">').appendTo(document.body);
            var chart = $('<div data-idd-plot="chart" style="width: 600px; height: 500px; margin:auto"></div>').appendTo(div);
            var plot = InteractiveDataDisplay.asPlot(chart);
            var area = plot.area("band", areaData);
            area.opacity = 0.5;

            $("<h1 align='center'>Markers</h1>").appendTo(document.body);
            for (var data in markersData) {
                var div = $('<div style="width:800px; height: 600px; margin:auto;">').appendTo(document.body);
                var title = $('<h2 align="center">' + data + '</h2>').appendTo(div);
                var chart = $('<div data-idd-plot="chart" style="width: 600px; height: 500px; margin:auto"></div>').appendTo(div);
                var plot = InteractiveDataDisplay.asPlot(chart);
                var markers = plot.markers("markers", markersData[data]);
            }

            $("<h1 align='center'>Heatmap</h1>").appendTo(document.body);
            for (var data in heatmapData) {
                var div = $('<div style="width:800px; height: 600px; margin:auto;">').appendTo(document.body);
                var title = $('<h2 align="center">' + data + '</h2>').appendTo(div);
                var chart = $('<div data-idd-plot="chart" style="width: 600px; height: 500px; margin:auto"></div>').appendTo(div);
                var plot = InteractiveDataDisplay.asPlot(chart);
                var heatmap = plot.heatmap("heatmap", heatmapData[data]);
            }
        });
    </script>
</head>
<body>
    <header>
        <h1 align="center">Input data to idd and chart viewer</h1>
    </header>
</body>
</html>
